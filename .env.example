# ===========================================
# Second Brain - Environment Configuration
# ===========================================

# Server Configuration
PORT=3001
NODE_ENV=production

# ===========================================
# REQUIRED: API Keys
# ===========================================

# Anthropic Claude API (for AI responses)
# Get your key at: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-api03-xxxxx

# OpenAI API (for embeddings)
# Get your key at: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-xxxxx

# ===========================================
# REQUIRED: Database
# ===========================================

# MongoDB Atlas Connection String
# Get free cluster at: https://www.mongodb.com/cloud/atlas
# IMPORTANT: Create a Vector Search index named "vector_index" for best performance
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/knowledge-base?retryWrites=true&w=majority

# ===========================================
# RECOMMENDED: Redis Cache (for fast responses)
# ===========================================

# Enable Redis for production-grade caching
REDIS_ENABLED=true

# Option 1: Redis URL (Render, Railway, etc.)
REDIS_URL=redis://default:password@host:port

# Option 2: Individual settings (local development)
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=

# ===========================================
# OPTIONAL: Enhanced Features
# ===========================================

# Cohere API (for neural reranking - improves accuracy)
# Get free key at: https://cohere.com/
# COHERE_API_KEY=xxxxx

# ===========================================
# Performance Settings
# ===========================================

# Warm up caches on server start
CACHE_WARMUP_ON_START=true

# Logging level (error, warn, info, debug)
LOG_LEVEL=info

# CORS Origins (comma-separated for multiple)
# CORS_ORIGINS=https://your-frontend.onrender.com

# ===========================================
# Render.com Deployment Notes
# ===========================================
# 
# 1. Set these in Render Dashboard → Environment:
#    - ANTHROPIC_API_KEY
#    - OPENAI_API_KEY
#    - MONGODB_URI
#    - COHERE_API_KEY (optional)
#
# 2. Redis is auto-configured via render.yaml
#
# 3. For fastest responses:
#    - Use "Standard" plan for backend
#    - Enable Redis cache
#    - Create MongoDB Atlas Vector Search index
#    - Add Cohere API key for neural reranking
#
# 4. MongoDB Atlas Vector Search Index:
#    Go to Atlas → Search Indexes → Create Index
#    Collection: documentchunks
#    Index Name: vector_index
#    Definition:
#    {
#      "fields": [{
#        "type": "vector",
#        "path": "embedding",
#        "numDimensions": 1536,
#        "similarity": "cosine"
#      }]
#    }
